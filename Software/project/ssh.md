- SSH连接原理: 对称+非对称
    - 客户端发起TCP连接, 默认端口号22
    - 服务端将自己的关键信息发给客户端
        - 服务端的公钥: 客户端在收到这个公钥后，会在自己的“known_hosts”文件进行搜索。如果找到了相同的公钥，则说明此前连接过该服务器。如果没有找到，则会在终端上显示一段警告信息，由用户来决定是否继续连接
        - 服务端所支持的加密算法列表: 客户端根据此列表来决定采用哪种加密算法
    - 生成会话密钥
        - 密钥协商: Diffie-Hellman算法
    - 客户端将自己的公钥id发送给服务端，服务端需要对客户端的合法性进行验证
        - 服务端在自己的“authorized_keys”文件中搜索与客户端匹配的公钥
        - 如果找到了，服务端用这个公钥加密一个随机数，并把加密后的结果发送给客户端
        - 客户端由这个随机数和当前的会话密钥共同生成一个MD5值
        - 客户端把MD5值发给服务端
        - 服务端同样用会话密钥和原始的随机数计算MD5值，并与客户端发过来的值进行对比。如果相等，则验证通过
- HTTPS
    - 客户端发起一个https的请求，把自身支持的一系列Cipher Suite（密钥算法套件，简称Cipher）发送给服务端
    - 服务端，接收到客户端所有的Cipher后与自身支持的对比，如果不支持则连接断开，反之则会从中选出一种加密算法和HASH算法
    以证书的形式返回给客户端 证书中还包含了公钥 颁证机构 网址 失效日期等等
    - 客户端收到服务端响应后会做以下几件事
        - 验证证书的合法性: 颁发证书的机构是否合法与是否过期，证书中包含的网站地址是否与正在访问的地址一致等
        - 生成随机密码: 如果证书验证通过，或者用户接受了不授信的证书，此时浏览器会生成一串随机数，然后用证书中的公钥加密
        - HASH握手信息: 用最开始约定好的HASH方式，把握手消息取HASH值，然后用随机数加密 “握手消息+握手消息HASH值(签名)”并一起发送给服务端
    - 服务端拿到客户端传来的密文，用自己的私钥来解密握手消息取出随机数密码，再用随机数密码解密握手消息与HASH值，并与传过来的HASH值做对比确认是否一致, 然后用随机密码加密一段握手消息(握手消息+握手消息的HASH值 )给客户端
    - 客户端用随机数解密并计算握手消息的HASH，如果与服务端发来的HASH一致，此时握手过程结束，之后所有的通信数据将由之前浏览器生成的随机密码并利用对称加密算法进行加密